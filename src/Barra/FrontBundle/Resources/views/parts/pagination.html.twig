{% trans_default_domain "messages" %}

{% block pagination %}
    {% if paginationCnt > 1 %}
        <nav class="paginationNav">
            <ul class="pagination">
                {% if paginationActive >= 3 and paginationActive <= paginationCnt-2 %} {# full 5 pages #}
                    {% set from = paginationActive-2 %}
                    {% set until = paginationActive+2 %}

                {% elseif paginationActive < 3 %}
                    {% set from = 1 %}
                    {% set until = min(5, paginationCnt) %} {# up to 5 pages from begin #}

                {% else %} {# active page is second last and over 3 #}
                    {% set from = max(1, paginationCnt-4) %} {# min 1 #}
                    {% set until = min(paginationActive+2, paginationCnt) %} {# max +2 #}
                {% endif %}


                <li {% if paginationActive == 1 %}class="disabled"{% endif %}>
                    <a {% if paginationActive == 1 %} class="disabled" href=""
                    {% else %} href="{{ path(route, {'paginationActive': paginationActive-1}) }}" {% endif %}
                    >
                        <span aria-hidden="true">&laquo;</span><span class="sr-only">Previous</span>
                    </a>
                </li>


                {% for i in range(from, until) %}
                    <li {% if i == paginationActive %}class="active"{% endif %}>
                        <a href="{{ path(route, {'paginationActive': i}) }}">
                            {{ i }} <span class="sr-only">(current)</span>
                        </a>
                    </li>
                {% endfor %}


                <li {% if paginationActive == paginationCnt %}class="disabled"{% endif %}>
                    <a {% if paginationActive == paginationCnt %} class="disabled" href=""
                    {% else %} href="{{ path(route, {'paginationActive': paginationActive+1}) }}" {% endif %}
                    >
                        <span aria-hidden="true">&raquo;</span><span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav>
    {% endif %}
{% endblock %}