<!DOCTYPE html>
<html>
    <head>
        {% block head %}
            <title>{% block title %}Kujawa{% endblock %}</title>
            {% block metaData %}
                <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <meta http-equiv="content-type" content="text/html; charset=utf-8">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                <meta name="language" content="{{ app.request.locale }}">
                <META name="author" content="Paul Kujawa">
                <META name="copyright" content="Paul Kujawa">
                <META name="publisher" content="Paul Kujawa">
            {% endblock %}
            <link rel="stylesheet" href="{{ asset('css/app.css') }}">
        {% endblock %}
    </head>

    <body>
        {% block nav %}
            <nav class="navbar navbar-default" role="navigation">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse"
                                data-target="#navbar-collapse"
                        >
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>

                        {% block languageBtn %}
                            {% if app.request.locale == "en" %}
                                <a class="navbar-brand" id="translationAnchor"
                                   href="{{ path(app.request.get('_route'), app.request.get('_route_params')|merge({_locale: 'de'})) }}">DE</a>
                            {% else %}
                                <a class="navbar-brand" id="translationAnchor"
                                   href="{{ path(app.request.get('_route'), app.request.get('_route_params')|merge({_locale: 'en'})) }}">EN</a>
                            {% endif %}
                        {% endblock %}
                    </div>

                    <!-- all elements for toggling -->
                    <div class="collapse navbar-collapse" id="navbar-collapse">
                        <ul class="nav navbar-nav">
                            {% block navList %}
                                {{ include(':parts:nav.html.twig') }}
                            {% endblock %}
                        </ul>
                    </div>
                </div>
            </nav>
        {% endblock %}

        {% block flashmessages %}
            <div class="container">
                {% for label, flashes in app.session.flashbag.all %}
                    {% for flash in flashes %}
                        <div class="alert alert-{{ label }} alert-dismissible" role="alert">
                            {{ flash }}
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    {% endfor %}
                {% endfor %}
            </div>
        {% endblock %}

        {% block aside %}{% endblock %}
        {% block section %}{% endblock %}

        {% block footer %}
            <footer class="text-center text-uppercase">
                <span>Copyright Â© {{ "now"|date("Y") }} Paul Kujawa</span>
            </footer>
        {% endblock %}

        {% block javascripts %}
            <script src="{{ asset('jspm/packages/system.js') }}"></script>
            <script src="{{ asset('jspm/config.js') }}"></script>
            {#<script src="{{ path('fos_js_routing_js', {"callback": "fos.Router.setData"}) }}"></script>#}
            <script>
                System.import('js/app.js')
            </script>
        {% endblock %}
    </body>
</html>
